[toc]

# 1、计算机的硬件系统

## CPU的功能

1. 指令控制

   程序是有序的指令集合，程序的顺序控制，保证其正确的执行

2. 操作控制

   CPU产生控制信号，并将各信号送到各个部件

3. 时间控制

   对各种操作实施时间上的定时

4. 数据加工

   ​	对数据进行算术运算和逻辑运算

对指令流和数据流在时间和空间上实施正确的控制

## CPU的组成

### 运算器：数据的加工处理

### 控制器：发布命令

#### 主要寄存器

1. MDR 存储器数据寄存器

   ALU和运算结果之间的缓冲

   补偿CPU和内存、外设之间在速度行的差异

2. IR 存放当前正在执行的一条指令

3. PC 程序计数器

4. MAR 地址寄存器

# 2、数据通路和指令周期

## 数据通路

计算机系统中各个部件通过数据总线连接形成的数据传送路径

## 指令周期

将取指令到执行完整个指令的过程所需要的时间称作指令周期

指令周期 = 取指周期(取数周期) + 执行周期

* 时钟周期：处理操作的基本单位，也叫节拍周期、节拍脉冲、T周期
* 机器周期：又叫CPU周期
* 指令周期：执行一条指令所需要的时间，包含若干个机器周期
* 总线周期：执行一个总线操作所需要的时间，一个基本的读周期包含4个时钟周期，CPU访问主存的时间需要一个总线周期

# 3、微程序

## 微程序控制原理

利用软件方法来设计硬件

### 微命令：控制部件向执行部件发出的控制信号

### 微操作：执行部件接受微命令所进行的操作

### 微指令：微命令 + 微操作

### 微程序：微指令序列的集合

一段微程序对应一个机器指令

# 4、硬布线控制计算机

# 5、指令流水

## 原理

指令周期：

* 取指(IF)
* 指令译码(ID)
* 存储器访问(MEM)
* 执行运行(EX)
* 结果写回(WB)

## 流水线的指标

### 吞吐率

每秒钟执行指令的次数

### 加速比

与无流水线时吞吐率的比值

## 断流

1. 资源相关：多条指令在进入流水线后在同一机器周期内争夺同一个功能部件所发生的的冲突
2. 数据相关：一条指令的运算结果是另一条指令的操作数据
3. 控制相关：执行转移指令时，若转移条件不成立，下条执行的指令顺序执行，否则转移到新的目标地址

# 6、CPU的性能指标

## 主频

CPU内核电路的实际运行频率

一秒钟有多少个时钟周期

## 外频

CPU总线频率

## 倍频

CPU运行频率与整个系统外频之间的倍数

主频 = 外频 * 倍频	

## 前段总线频率

影响计算机CPU与主存之间的数据交换速度

## L1 cache

一级高速缓存，频率与CPU相同

## L2 cache

二级高速缓存，频率为CPU的1/2~1/3